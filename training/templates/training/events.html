{% extends "training/base.html" %}
{% load static %}
{% block content %}
{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
<h1>Training Events</h1>
<script type="text/javascript">
    var events = [
      {% for rec in event_records %}
        {% if not forloop.first %},{% endif %}
        {
          starts: "{{ rec.starts }}",
          name: "{{ rec.name }}",
          country: "{{ rec.country }}",
          organization: "{{ rec.organization }}",
          format: "{{ rec.format_verbose }}",
          servicearea: "{{ rec.servicearea_verbose }}",
          training: "{{ rec.training }}"
        }
        {% endfor %}
    ]
</script>
<img class="img-fluid rounded" src="{% static 'training/events.jpg' %}">
{% if event_records %}
<table class="table table-striped table-sm small">
  <thead class="thead-dark">
    <th scope="col"></th>


    <th scope="col"> 
      <a href="?order_by=starts&asc_des={{ asc_des }}">
      Date&nbsp;
      <img width="15px" height="15px" src="{{ asc_url_starts }}"></img></a>
    </th>


    <th scope="col"> 
      <a href="?order_by=name&asc_des={{ asc_des }}">
      Title&nbsp;
      <img width="15px" height="15px" src="{{ asc_url_name }}"></img></a>
    </th>


    <th scope="col"> 
      <a href="?order_by=country&asc_des={{ asc_des }}">
      Location&nbsp;
      <img width="15px" height="15px" src="{{ asc_url_country }}"></img></a>
    </th>


    <th scope="col"> 
      <a href="?order_by=hub&asc_des={{ asc_des }}">
      Hub&nbsp;
      <img width="15px" height="15px" src="{{ asc_url_hub }}"></img></a>
    </th>


    <th scope="col"> 
      <a href="?order_by=format&asc_des={{ asc_des }}">
      Format&nbsp;
      <img width="15px" height="15px" src="{{ asc_url_format }}"></img></a>
    </th>



    <!-- <th scope="col">Service<br>Area</th> -->
  </thead>
  {% for rec in event_records %}
  <tr>
    <td><a class="badge badge-danger" href="/admin/training/training/{{ rec.id }}/change/">Edit</a></td>
    <td>{{ rec.starts }}</td>
    <td><a href="/training/event/{{ rec.id }}">{{ rec.name }}</a></td>
    <td>{{ rec.country }}</td>
    <td>{{ rec.hub }}</td>
    <td>{{ rec.format_verbose }}</td>
    <!-- <td>{{ rec.servicearea_verbose}}</td> -->
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No Training Events have been registered in the database</p>
{% endif %}

{% endblock %}
